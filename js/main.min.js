"use strict";window.onload=function(){function L(e){switch(e.keyCode){case m:u.mvRight=!1,k.mvDown=!1;break;case v:u.mvRight=!1,k.mvDown=!1;break;case a:u.mvLeft=!1,k.mvUp=!1;break;case f:u.mvLeft=!1,k.mvUp=!1;break;case n:u.mvUp=!1,k.mvRight=!1;break;case r:u.mvUp=!1,k.mvRight=!1;break;case h:u.mvDown=!1,k.mvLeft=!1;break;case l:u.mvDown=!1,k.mvLeft=!1}}function R(e){switch(e.keyCode){case m:u.mvRight=!0,u.mvLeft=!1,u.mvUp=!1,u.mvDown=!1,k.mvRight=!1,k.mvLeft=!1,k.mvUp=!1,k.mvDown=!0;break;case v:u.mvRight=!0,u.mvLeft=!1,u.mvUp=!1,u.mvDown=!1,k.mvRight=!1,k.mvLeft=!1,k.mvUp=!1,k.mvDown=!0;break;case a:u.mvRight=!1,u.mvLeft=!0,u.mvUp=!1,u.mvDown=!1,k.mvRight=!1,k.mvLeft=!1,k.mvUp=!0,k.mvDown=!1;break;case f:u.mvRight=!1,u.mvLeft=!0,u.mvUp=!1,u.mvDown=!1,k.mvRight=!1,k.mvLeft=!1,k.mvUp=!0,k.mvDown=!1;break;case n:u.mvRight=!1,u.mvLeft=!1,u.mvUp=!0,u.mvDown=!1,k.mvRight=!0,k.mvLeft=!1,k.mvUp=!1,k.mvDown=!1;break;case r:u.mvRight=!1,u.mvLeft=!1,u.mvUp=!0,u.mvDown=!1,k.mvRight=!0,k.mvLeft=!1,k.mvUp=!1,k.mvDown=!1;break;case h:u.mvRight=!1,u.mvLeft=!1,u.mvUp=!1,u.mvDown=!0,k.mvRight=!1,k.mvLeft=!0,k.mvUp=!1,k.mvDown=!1;break;case l:u.mvRight=!1,u.mvLeft=!1,u.mvUp=!1,u.mvDown=!0,k.mvRight=!1,k.mvLeft=!0,k.mvUp=!1,k.mvDown=!1}}function U(){var e=8*Math.random()+1,t=e.toFixed();return 1==t?(w.src="../img/Pokemon/alolan-exeggutor.png",k=new Pokemon(w),"Alolan Exeggutor"):2==t?(w.src="../img/Pokemon/alolan-meowth.png",k=new Pokemon(w),"Alolan Meowth"):3==t?(w.src="../img/Pokemon/alolan-raichu.png",k=new Pokemon(w),"Alolan Raichu"):4==t?(w.src="../img/Pokemon/bulbasaur.png",k=new Pokemon(w),"Bulbasaur"):5==t?(w.src="../img/Pokemon/hoopa.png",k=new Pokemon(w),"Hoopa"):6==t?(w.src="../img/Pokemon/landorus.png",k=new Pokemon(w),"Landorus"):7==t?(w.src="../img/Pokemon/pikachu.png",k=new Pokemon(w),"Pikachu"):8==t?(w.src="../img/Pokemon/shiny-helioptile.png",k=new Pokemon(w),"Shiny Heliptile"):9==t?(w.src="../img/Pokemon/talonflame.png",k=new Pokemon(w),"Talonflame"):void 0}function Y(){u.posX=p.width/2,u.posY=p.height/2,k.posX=384*Math.random()+64,k.posY=352*Math.random()+64,x()}function P(){u.move(p),k.move(p),u.posX<=k.posX+15&&k.posX<=u.posX+15&&u.posY<=k.posY+15&&k.posY<=u.posY+15&&(++i,D())}function X(){c.drawImage(o,0,0,o.width,o.height,0,0,p.width,p.height),u.draw(c),k.draw(c),c.fillStyle="rgb(250, 250, 250)",c.font="24px Helvetica",c.textAlign="left",c.textBaseline="top",c.fillText("Pokemons pegos: "+i,32,32)}function x(){window.requestAnimationFrame(x,p),P(),X()}var e=location.search.slice(1),t=e.split("="),s=t[1],i=0,o=new Image;o.src="../img/map.png";var a=37,n=38,m=39,h=40,f=65,r=87,v=68,l=83,p=document.querySelector("canvas"),c=p.getContext("2d"),g=new Image;"boy"===s?g.src="../img/Character/boy.png":"girl"===s&&(g.src="../img/Character/girl.png");var u=new Character(g),w=new Image,k=0,d={},b=0;d[b]=U(),w.onload=function(){Y()},g.onload=function(){Y()},window.addEventListener("keydown",R,!1),window.addEventListener("keyup",L,!1);var D=function(){bootbox.alert("Você pegou um "+d[b]+"!"),$("#abrir").click(function(e){bootbox.alert("Você pegou um pokemon!",function(){bootbox.alert("Você pegou um pokemon!")})}),b++,u.posX=p.width/2,u.posY=p.height/2,d[b]=U(),console.log(b),k.posX=384*Math.random()+64,k.posY=352*Math.random()+64}};